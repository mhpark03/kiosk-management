option_settings:
  # 환경 속성 (민감 정보는 EB 콘솔에서 설정)
  aws:elasticbeanstalk:application:environment:
    SERVER_PORT: 5000
    SPRING_PROFILES_ACTIVE: dev
    # Optimized JVM settings for t3.micro (1GB RAM)
    # -Xmx480m: Max heap (reduced from 512m to leave room for metaspace/OS)
    # -Xms256m: Initial heap (avoid unnecessary growth)
    # -XX:MaxMetaspaceSize=128m: Limit metaspace (prevent unlimited growth)
    # -XX:+UseG1GC: G1 garbage collector (better for low latency)
    # -XX:MaxGCPauseMillis=200: Target max GC pause time
    JAVA_OPTS: '-Xmx480m -Xms256m -XX:MaxMetaspaceSize=128m -XX:+UseG1GC -XX:MaxGCPauseMillis=200'

  # 헬스 체크 설정
  aws:elasticbeanstalk:environment:process:default:
    HealthCheckPath: /actuator/health
    HealthCheckInterval: 30
    HealthCheckTimeout: 5
    UnhealthyThresholdCount: 3
    HealthyThresholdCount: 2

  # 로드 밸런서 리스너 (HTTPS 사용 시)
  # aws:elbv2:listener:443:
  #   Protocol: HTTPS
  #   SSLCertificateArns: arn:aws:acm:ap-northeast-2:ACCOUNT_ID:certificate/CERT_ID

  # CloudWatch Logs 설정
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 7
